<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Valentine?</title>
  <style>
    :root{
      --bg1:#ff9a9e;
      --bg2:#fad0c4;
      --card:#ffffffcc;
      --text:#2b2b2b;
      --yes:#22c55e;
      --no:#ef4444;
      --shadow: 0 20px 60px rgba(0,0,0,.18);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      color:var(--text);
      background: radial-gradient(1200px 800px at 20% 10%, #fff6 0%, transparent 55%),
                  radial-gradient(900px 650px at 80% 30%, #fff5 0%, transparent 55%),
                  linear-gradient(135deg, var(--bg1), var(--bg2));
      overflow:hidden;
    }

    .wrap{
      height:100%;
      display:grid;
      place-items:center;
      padding:24px;
      position:relative;
    }

    .card{
      width:min(720px, 100%);
      background:var(--card);
      backdrop-filter: blur(10px);
      border:1px solid rgba(255,255,255,.35);
      border-radius:28px;
      box-shadow: var(--shadow);
      padding:28px;
      position:relative;
      overflow:hidden;
    }

    .top{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:18px;
      margin-bottom:18px;
    }

    .badge{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding:10px 14px;
      border-radius:999px;
      background: rgba(255,255,255,.65);
      border:1px solid rgba(0,0,0,.06);
      font-weight:600;
      font-size:14px;
      letter-spacing:.2px;
    }

    .badge .dot{
      width:10px;height:10px;border-radius:999px;
      background: linear-gradient(180deg,#ff4d6d,#ff8fab);
      box-shadow: 0 0 0 4px rgba(255,77,109,.18);
    }

    h1{
      margin: 8px 0 6px;
      font-size: clamp(28px, 4vw, 44px);
      line-height:1.05;
      letter-spacing:-.6px;
    }

    .sub{
      margin:0 0 18px;
      font-size: clamp(15px, 2.2vw, 18px);
      line-height:1.6;
      opacity:.92;
    }

    .hero{
      display:grid;
      grid-template-columns: 1.05fr .95fr;
      gap:18px;
      align-items:center;
    }

    @media (max-width: 680px){
      .hero{grid-template-columns:1fr;}
    }

    .note{
      background: rgba(255,255,255,.75);
      border:1px solid rgba(0,0,0,.06);
      border-radius:20px;
      padding:18px 18px 14px;
      box-shadow: 0 12px 30px rgba(0,0,0,.08);
    }

    .note p{margin:0 0 10px; line-height:1.6}

    .sig{
      margin-top:12px;
      font-weight:700;
      opacity:.95;
      display:flex;
      align-items:center;
      gap:10px;
    }

    .sig span{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      width:34px;height:34px;
      border-radius:12px;
      background: linear-gradient(180deg,#fff,#fff0);
      border:1px solid rgba(0,0,0,.06);
    }

    .right{
      position:relative;
      min-height: 260px;
      display:grid;
      place-items:center;
    }

    .big-heart{
      width: 220px;
      max-width: 70vw;
      aspect-ratio: 1;
      filter: drop-shadow(0 18px 30px rgba(0,0,0,.18));
      animation: floaty 4.2s ease-in-out infinite;
    }

    @keyframes floaty{
      0%,100%{transform: translateY(0) rotate(-2deg) scale(1)}
      50%{transform: translateY(-12px) rotate(2deg) scale(1.03)}
    }

    .question{
      margin-top: 18px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:14px;
      flex-wrap:wrap;
    }

    .question h2{
      margin:0;
      font-size: clamp(18px, 2.6vw, 22px);
      letter-spacing:-.2px;
    }

    .btns{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
    }

    button{
      border:0;
      border-radius:14px;
      padding: 12px 16px;
      font-weight:800;
      cursor:pointer;
      transition: transform .12s ease, filter .12s ease, box-shadow .12s ease;
      box-shadow: 0 10px 22px rgba(0,0,0,.12);
      user-select:none;
    }

    button:active{transform: translateY(1px) scale(.99)}

    .yes{background: linear-gradient(180deg, #34d399, var(--yes)); color:#06210f}
    .no{background: linear-gradient(180deg, #fb7185, var(--no)); color:#2b0b0b}

    .yes:hover{filter:saturate(1.05) brightness(1.03)}
    .no:hover{filter:saturate(1.05) brightness(1.02)}

    /* No button gets playful movement */
    .no.runaway{position:relative}

    .footer{
      margin-top:14px;
      font-size:13px;
      opacity:.75;
    }

    /* confetti canvas */
    canvas#confetti{
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index:40;
    }

    .overlay{
      position:fixed;
      inset:0;
      display:none;
      place-items:center;
      z-index:50;
      background: rgba(0,0,0,.35);
      padding:24px;
    }

    .modal{
      width:min(560px, 100%);
      background: rgba(255,255,255,.9);
      border:1px solid rgba(255,255,255,.5);
      border-radius:24px;
      box-shadow: var(--shadow);
      padding:22px;
      text-align:center;
      position:relative;
    }

    .modal h3{
      margin:6px 0 10px;
      font-size: clamp(22px, 3.2vw, 30px);
    }

    .modal p{margin:0 0 14px; line-height:1.6}

    .tiny{
      font-size:13px;
      opacity:.8;
      margin-top:10px;
    }

    .close{
      position:absolute;
      top:12px; right:12px;
      width:38px;height:38px;
      border-radius:14px;
      border:1px solid rgba(0,0,0,.08);
      background: rgba(255,255,255,.8);
      box-shadow: 0 10px 22px rgba(0,0,0,.10);
      font-weight:900;
    }

    /* floating hearts in background */
    .heart{
      position:absolute;
      width:16px; height:16px;
      transform: rotate(45deg);
      background: rgba(255,255,255,.55);
      border-radius: 4px;
      opacity:.9;
      filter: blur(.1px);
      animation: rise linear infinite;
    }
    .heart:before,.heart:after{
      content:"";
      position:absolute;
      width:16px; height:16px;
      background: inherit;
      border-radius:50%;
    }
    .heart:before{left:-8px; top:0}
    .heart:after{left:0; top:-8px}

    @keyframes rise{
      from{transform: translateY(40vh) rotate(45deg); opacity:0}
      10%{opacity:.9}
      to{transform: translateY(-70vh) rotate(45deg); opacity:0}
    }

    /* subtle shine */
    .shine{
      position:absolute;
      inset:-120px;
      background: radial-gradient(closest-side, rgba(255,255,255,.35), transparent 70%);
      transform: translateX(-40%);
      pointer-events:none;
    }
  </style>
</head>
<body>
  <canvas id="confetti"></canvas>

  <div class="wrap" id="wrap">
    <div class="shine" aria-hidden="true"></div>

    <!-- floating hearts (purely decorative) -->
    <div id="hearts" aria-hidden="true"></div>

    <main class="card" role="main">
      <div class="top">
        <div class="badge"><span class="dot"></span> For <span id="herName">[Her Name]</span></div>
        <div class="badge">üíå <span id="dateLabel">February 14</span></div>
      </div>

      <div class="hero">
        <section>
          <h1 id="headline">Hey <span id="herName2">[Her Name]</span>‚Ä¶</h1>
          <p class="sub" id="subtitle">
            I made a tiny website because saying this out loud makes me nervous in the cutest way.
          </p>

          <div class="note">
            <p id="message1">You make ordinary days feel like something I want to remember.</p>
            <p id="message2">So I have a question‚Ä¶</p>
            <div class="sig"><span>‚ù§Ô∏è</span> <span id="yourName">[Your Name]</span></div>
          </div>

          <div class="question" aria-live="polite">
            <h2 id="questionText">Will you be my Valentine?</h2>
            <div class="btns">
              <button class="yes" id="yesBtn">YES!!</button>
              <button class="no runaway" id="noBtn">no</button>
            </div>
          </div>

          <div class="footer" id="footerHint">Tip: if ‚Äúno‚Äù is feeling shy‚Ä¶ that‚Äôs on purpose üòÑ</div>
        </section>

        <section class="right">
          <!-- Inline SVG heart (no external assets) -->
          <svg class="big-heart" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg" aria-label="heart">
            <defs>
              <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
                <stop offset="0" stop-color="#ff4d6d"/>
                <stop offset="1" stop-color="#ff8fab"/>
              </linearGradient>
              <filter id="soft" x="-30%" y="-30%" width="160%" height="160%">
                <feGaussianBlur in="SourceAlpha" stdDeviation="6" result="blur"/>
                <feOffset dx="0" dy="10" result="off"/>
                <feColorMatrix in="off" type="matrix" values="0 0 0 0 0  0 0 0 0 0  0 0 0 0 0  0 0 0 .25 0" result="shadow"/>
                <feMerge>
                  <feMergeNode in="shadow"/>
                  <feMergeNode in="SourceGraphic"/>
                </feMerge>
              </filter>
            </defs>
            <path filter="url(#soft)" fill="url(#g)" d="M100 178s-64-40-82-78C1 63 24 30 58 30c18 0 33 10 42 23 9-13 24-23 42-23 34 0 57 33 40 70-18 38-82 78-82 78Z"/>
            <path fill="#fff" opacity=".18" d="M62 52c-14 6-22 23-16 40 2 6 6 12 11 18 4-22 14-43 29-57-9-7-18-8-24-1Z"/>
          </svg>
        </section>
      </div>
    </main>
  </div>

  <div class="overlay" id="overlay" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <div class="modal">
      <button class="close" id="closeModal" aria-label="Close">‚úï</button>
      <div style="font-size:40px">ü•∞üíò</div>
      <h3 id="modalTitle">YAY!!</h3>
      <p id="modalBody">Okay, it‚Äôs official. I‚Äôm the luckiest person. üíñ</p>
      <p class="tiny" id="modalTiny">Now screenshot this and send it to me üòÑ</p>
      <div style="margin-top:14px; display:flex; justify-content:center; gap:10px; flex-wrap:wrap;">
        <button class="yes" id="planBtn">Plan our date</button>
        <button class="no" id="shareBtn">Make it extra cute</button>
      </div>
    </div>
  </div>

  <script>
    // ====== Customize these! ======
    const CONFIG = {
      herName: "Your Girlfriend",
      yourName: "Roberto",
      dateLabel: "February 14",
      headline: "Hey {herName}‚Ä¶",
      subtitle: "I made a tiny website because saying this out loud makes me nervous in the cutest way.",
      message1: "You make ordinary days feel like something I want to remember.",
      message2: "So I have a question‚Ä¶",
      question: "Will you be my Valentine?",
      yesModalTitle: "YAY!!",
      yesModalBody: "Okay, it‚Äôs official. I‚Äôm the luckiest person. üíñ",
      yesModalTiny: "Now screenshot this and send it to me üòÑ",
      planText: "How about: dinner + dessert + a little walk?",
      extraCuteText: "Text me: ‚ÄòYES!! üíò‚Äô and I‚Äôll bring your favorite treat."
    };

    // ====== Apply text config ======
    const setText = (id, text) => { const el = document.getElementById(id); if(el) el.textContent = text; };
    const apply = () => {
      setText('herName', CONFIG.herName);
      setText('herName2', CONFIG.herName);
      setText('yourName', CONFIG.yourName);
      setText('dateLabel', CONFIG.dateLabel);
      setText('headline', CONFIG.headline.replace('{herName}', CONFIG.herName));
      setText('subtitle', CONFIG.subtitle);
      setText('message1', CONFIG.message1);
      setText('message2', CONFIG.message2);
      setText('questionText', CONFIG.question);
      setText('modalTitle', CONFIG.yesModalTitle);
      setText('modalBody', CONFIG.yesModalBody);
      setText('modalTiny', CONFIG.yesModalTiny);
    };
    apply();

    // ====== Background floating hearts ======
    const heartsWrap = document.getElementById('hearts');
    const makeHeart = () => {
      const h = document.createElement('div');
      h.className = 'heart';
      const size = 10 + Math.random()*18;
      h.style.width = h.style.height = size + 'px';
      h.style.left = (Math.random()*100) + 'vw';
      h.style.animationDuration = (4 + Math.random()*6) + 's';
      h.style.animationDelay = (-Math.random()*6) + 's';
      h.style.opacity = (0.35 + Math.random()*0.5).toFixed(2);
      heartsWrap.appendChild(h);
      setTimeout(() => h.remove(), 11000);
    };
    for(let i=0;i<18;i++) makeHeart();
    setInterval(makeHeart, 700);

    // ====== No button runs away (ALWAYS) ======
const noBtn = document.getElementById('noBtn');
const yesBtn = document.getElementById('yesBtn');

const runAway = () => {
  const card = document.querySelector('.card');
  const rect = card.getBoundingClientRect();
  const btnRect = noBtn.getBoundingClientRect();

  const pad = 16;
  const maxX = rect.width - btnRect.width - pad;
  const maxY = rect.height - btnRect.height - pad;

  const x = pad + Math.random() * maxX;
  const y = pad + Math.random() * maxY;

  noBtn.style.position = 'absolute';
  noBtn.style.left = x + 'px';
  noBtn.style.top = y + 'px';

  // Force movement even if same spot
  noBtn.offsetHeight;

  // Extra jitter
  const jx = (Math.random() - 0.5) * 40;
  const jy = (Math.random() - 0.5) * 40;
  noBtn.style.transform = `translate(${jx}px, ${jy}px)`;
};

// It moves on literally EVERYTHING
['mouseenter','mousemove','focus','touchstart','pointerdown','click'].forEach(evt => {
  noBtn.addEventListener(evt, (e) => {
    e.preventDefault();
    runAway();
  });
});


    // On hover/focus/touch, scoot away
    ['mouseenter','focus','touchstart','pointerdown'].forEach(evt => {
      noBtn.addEventListener(evt, (e) => {
        e.preventDefault();
        runAway();
      }, {passive:false});
    });

    // ====== Confetti ======
    const canvas = document.getElementById('confetti');
    const ctx = canvas.getContext('2d');
    const resize = () => {
      canvas.width = window.innerWidth * devicePixelRatio;
      canvas.height = window.innerHeight * devicePixelRatio;
      canvas.style.width = window.innerWidth + 'px';
      canvas.style.height = window.innerHeight + 'px';
      ctx.setTransform(devicePixelRatio,0,0,devicePixelRatio,0,0);
    };
    window.addEventListener('resize', resize);
    resize();

    let pieces = [];
    const rand = (a,b)=>a+Math.random()*(b-a);

    function burstConfetti(count=140){
      const w = window.innerWidth;
      const h = window.innerHeight;
      const cx = w*0.5;
      const cy = h*0.35;

      for(let i=0;i<count;i++){
        pieces.push({
          x: cx,
          y: cy,
          vx: rand(-6,6),
          vy: rand(-10,-2),
          g: rand(0.18,0.28),
          r: rand(2,5),
          a: 1,
          rot: rand(0, Math.PI),
          vr: rand(-0.2,0.2),
          // random bright-ish RGB
          c: `hsl(${Math.floor(rand(330, 360))}, 90%, ${Math.floor(rand(55, 70))}%)`
        });
      }
    }

    function tick(){
      ctx.clearRect(0,0,window.innerWidth, window.innerHeight);
      pieces = pieces.filter(p => p.a > 0.02);
      for(const p of pieces){
        p.vy += p.g;
        p.x += p.vx;
        p.y += p.vy;
        p.rot += p.vr;
        p.a *= 0.985;

        ctx.save();
        ctx.globalAlpha = p.a;
        ctx.translate(p.x, p.y);
        ctx.rotate(p.rot);
        ctx.fillStyle = p.c;
        ctx.fillRect(-p.r, -p.r, p.r*2.2, p.r*1.6);
        ctx.restore();
      }
      requestAnimationFrame(tick);
    }
    tick();

    // ====== Modal ======
    const overlay = document.getElementById('overlay');
    const closeModal = document.getElementById('closeModal');
    const planBtn = document.getElementById('planBtn');
    const shareBtn = document.getElementById('shareBtn');

    const openModal = () => {
      overlay.style.display = 'grid';
      document.body.style.overflow = 'hidden';
    };
    const hideModal = () => {
      overlay.style.display = 'none';
      document.body.style.overflow = 'hidden';
    };

    yesBtn.addEventListener('click', () => {
      burstConfetti();
      openModal();
    });

    closeModal.addEventListener('click', hideModal);
    overlay.addEventListener('click', (e) => { if(e.target === overlay) hideModal(); });

    planBtn.addEventListener('click', () => {
      document.getElementById('modalBody').textContent = CONFIG.planText;
      burstConfetti(80);
    });

    shareBtn.addEventListener('click', () => {
      document.getElementById('modalBody').textContent = CONFIG.extraCuteText;
      burstConfetti(60);
    });

    // Make the No button start in normal flow; if it has been moved, clicking it runs away again.
    noBtn.addEventListener('click', (e) => { e.preventDefault(); runAway(); });

    // Keep everything accessible on keyboard: if No is moved, keep it inside the card.
    document.addEventListener('keydown', (e) => {
      if(e.key === 'Escape') hideModal();
    });
  </script>
</body>
</html>
